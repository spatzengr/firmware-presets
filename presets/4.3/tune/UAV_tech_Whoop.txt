#$ TITLE: UAV Tech - Whoop (1S & 2S)
#$ FIRMWARE_VERSION: 4.3
#$ CATEGORY: TUNE
#$ STATUS: OFFICIAL
#$ KEYWORDS: whoop
#$ AUTHOR: UAV Tech (Mark Spatz)
#$ DESCRIPTION: Mark is a Betaflight contributor, youtube content creator, and professional tuner (www.theuavtech.com)
#$ DESCRIPTION: 
#$ DESCRIPTION: Base tune for a Whoop.
#$ DESCRIPTION: This tune should get you right in the sweet spot for P/D balance and enough filter settings.
#$ DESCRIPTION: 
#$ DESCRIPTION: OPTIONS:
#$ DESCRIPTION: - 48K ESC PWM
#$ DESCRIPTION: - 96K ESC PWM
#$ DESCRIPTION: 
#$ DISCUSSION: https://github.com/betaflight/firmware-presets/pull/??
#$ INCLUDE: presets/4.3/tune/defaults.txt
#$ INCLUDE: presets/4.3/filters/defaults.txt

# -- Filter Settings --
set simplified_dterm_filter = ON
set simplified_gyro_filter = ON
set dyn_notch_count = 4
set dyn_notch_min_hz = 100
set dyn_notch_max_hz = 1000
set simplified_gyro_filter_multiplier = 150

# -- PID Settings --
set vbat_sag_compensation = 100
set anti_gravity_gain = 10000
set iterm_relax_cutoff = 10
set simplified_master_multiplier = 150
set simplified_d_gain = 150
set simplified_dmax_gain = 0
set simplified_pitch_d_gain = 100
set simplified_pitch_pi_gain = 100

simplified_tuning apply

#$ OPTION BEGIN (UNCHECKED): 48k ESC PWM
# -- ADDER: For 48khz PWM --
set thrust_linear = 20
#$ OPTION END

#$ OPTION BEGIN (UNCHECKED): 96k ESC PWM
# -- ADDER: For 96khz PWM --
set thrust_linear = 40
#$ OPTION END
